{"version":3,"file":"page-view-id.js","sourceRoot":"","sources":["../../src/page-view-id.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,SAAS,CAAA;AAE/B;IAAA;QAGI,uBAAkB,GAAG,KAAK,CAAA;IAkB9B,CAAC;IAhBG,sCAAU,GAAV;QACI,iEAAiE;QACjE,2DAA2D;QAC3D,IAAI,IAAI,CAAC,kBAAkB,EAAE;YACzB,IAAI,CAAC,WAAW,GAAG,KAAK,EAAE,CAAA;SAC7B;QACD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAA;IAClC,CAAC;IAED,yCAAa,GAAb;QACI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,IAAI,CAAC,WAAW,GAAG,KAAK,EAAE,CAAA;SAC7B;QAED,OAAO,IAAI,CAAC,WAAW,CAAA;IAC3B,CAAC;IACL,wBAAC;AAAD,CAAC,AArBD,IAqBC","sourcesContent":["import { _UUID } from './utils'\n\nexport class PageViewIdManager {\n    _pageViewId: string | undefined\n\n    _seenFirstPageView = false\n\n    onPageview(): void {\n        // As the first $pageview event may come after a different event,\n        // we only reset the ID _after_ the second $pageview event.\n        if (this._seenFirstPageView) {\n            this._pageViewId = _UUID()\n        }\n        this._seenFirstPageView = true\n    }\n\n    getPageViewId(): string {\n        if (!this._pageViewId) {\n            this._pageViewId = _UUID()\n        }\n\n        return this._pageViewId\n    }\n}\n"]}