{"version":3,"file":"capture-metrics.js","sourceRoot":"","sources":["../../src/capture-metrics.ts"],"names":[],"mappings":"AAAA;IAII,wBAAY,OAAgB;QACxB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QACtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAA;IACrB,CAAC;IAED,6BAAI,GAAJ,UAAK,GAAW,EAAE,EAAM;QAAN,mBAAA,EAAA,MAAM;QACpB,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,GAAG,GAAG,eAAQ,GAAG,CAAE,CAAA;YACnB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAA;SACpD;IACL,CAAC;IAED,6BAAI,GAAJ,UAAK,GAAW;QACZ,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,GAAG,GAAG,eAAQ,GAAG,CAAE,CAAA;YACnB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAA;SACnD;IACL,CAAC;IACL,qBAAC;AAAD,CAAC,AAtBD,IAsBC","sourcesContent":["export class CaptureMetrics {\n    enabled: boolean\n    metrics: Record<string, number>\n\n    constructor(enabled: boolean) {\n        this.enabled = enabled\n        this.metrics = {}\n    }\n\n    incr(key: string, by = 1): void {\n        if (this.enabled) {\n            key = `phjs-${key}`\n            this.metrics[key] = (this.metrics[key] || 0) + by\n        }\n    }\n\n    decr(key: string): void {\n        if (this.enabled) {\n            key = `phjs-${key}`\n            this.metrics[key] = (this.metrics[key] || 0) - 1\n        }\n    }\n}\n"]}